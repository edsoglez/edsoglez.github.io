<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calesa Sales Report</title>
    <script type="module" src="dbconfig.js"></script>
    <script type="module" src="getSales.js"></script>
    <link rel="stylesheet" href="salesReport.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript"></script>
</head>

<body>
    <div id="header-banner" >
        <div class="header-logo-container" style="padding: 20px; height: 50px; z-index: 1;"> 
            <img src="calesa_logo_black.png" alt="" class="header-logo" height="50px" style="z-index: 1; position: fixed;" onmousedown="location.href = 'menu.html'">
            <h4 style="position: fixed; right: 0; margin-right: 10px; font-weight: 300; font-size: 14px; margin-top: 10px;">Actualizado en:</h4>
            <h4 style="position: fixed; right: 0; top: 0; margin-right: 10px; margin-top: 50px; font-weight: 300; font-size: 14px;" id="last-update"></h4>
        </div>
        
    </div>
    <script>
        let lastUpdate = String(new Date()).substring(0,25)
        document.getElementById('last-update').innerHTML = lastUpdate
    </script>
  
    <div style="z-index: 20; display: flex; flex-direction: column; text-align: center; margin-left: auto; margin-right: auto; border-radius: 20px; background-color: #FAFAFA; height: 150%; width: auto; padding: 24px; box-shadow: 0px -5px 8px 0px rgba(0, 0, 0, 0.08); position: relative; overflow: hidden;">
        <h3>Ventas</h3>
        <h4>Resumen de ventas, selecciona fechas:</h6>
            <br>
            <div style="display: flex; margin-left: auto; margin-right: auto; flex-wrap: wrap; width: 100%; column-gap: 8px; row-gap: 16px;">
                <div style="width: 46%; max-width: 300px; height: auto; align-items: left; justify-content: left; padding: 0; text-align: left;">
                    <h5>Desde:</h5>
                    <input type="date" name="" id="from-date">
                </div>
                <div style="width: 46%; max-width: 300px; height: auto; align-items: left; justify-content: left; padding: 0; text-align: left;">
                    <h5>Hasta:</h5>
                    <input type="date" name="" id="to-date">
                </div>
                <div style="display: flex; justify-content: left; width: 100%; text-align: right;">
                    <button id="search">Actualizar</button>
                </div>

                <div id="chart_div" style="width:120%; height:300px;"></div>

                <div style="display: flex; width: 100%; align-items: center; margin-top: 16px; justify-content: center;">
                    <div style="margin-top: 0px; text-align: center; width: 33%; justify-content: center;">
                        <h4 style="text-align: center; font-weight: 500;">Total:</h3>
                        <h4 id="sales-total" style="font-weight: 300; font-size: 16px; text-align: center;"></h3>
                    </div>
    
                    <div style="margin-top: 0px; text-align: center; width: 33%; justify-content: center;">
                        <h4 style="text-align: center; font-weight: 500;">Efectivo:</h3>
                        <h4 id="sales-total-cash" style="font-weight: 300; font-size: 16px; text-align: center;"></h3>
                    </div>
    
                    <div style="margin-top: 0px; text-align: center; width: 33%; justify-content: center;">
                        <h4 style="text-align: center; font-weight: 500;">Tarjeta:</h3>
                        <h4 id="sales-total-card" style="font-weight: 300; font-size: 16px; text-align: center;"></h3>
                    </div>
                </div>
            
                <ul id="sales-list" style="height: 250px; background-color: rgb(240, 240, 240); width: 100%; border-radius: 10px; overflow: scroll; padding: 10px; margin-top: 10px;"> 
                    
                </ul>

                

                
            </div>
    </div>
    
</body>
</html>